<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Amnam Client</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --main-bg: #0f1912;
      --main-text: #e0ffe5;
      --accent: #16a34a;
    }
    body {
      background: radial-gradient(circle at 20% 20%, #10291c, #0a0f0a 70%);
      background-size: 400% 400%;
      animation: gradientFlow 20s ease infinite;
      color: var(--main-text);
      font-family: sans-serif;
    }
    @keyframes gradientFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .fade-in {
      opacity: 0;
      transform: translateY(30px);
      animation: fadeIn 1s ease forwards;
    }
    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: none;
      }
    }
    .gradient-border {
      background: linear-gradient(145deg, var(--accent), #14532d, var(--accent));
      background-size: 400% 400%;
      animation: gradientFlow 8s ease infinite;
    }
    .glowing-amnyam {
      width: 240px;
      transition: transform 0.4s ease;
      animation: glow 2s ease-in-out infinite alternate;
      filter: drop-shadow(0 0 20px #16a34a);
    }
    .glowing-amnyam:hover {
      transform: scale(1.1);
    }
    @keyframes glow {
      from { filter: drop-shadow(0 0 10px #16a34a); }
      to { filter: drop-shadow(0 0 30px #16a34a); }
    }
  </style>
  <script>
    const users = JSON.parse(localStorage.getItem('users')) || {};
    const currentUser = localStorage.getItem('amnam_user');
    const keys = JSON.parse(localStorage.getItem('activation_keys')) || [];

    function register() {
      const username = document.getElementById("regNick").value;
      const password = document.getElementById("regPass").value;
      const uid = generateUID();
      if (users[username]) return alert("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç");
      users[username] = {
        username, password, regDate: new Date().toISOString(), purchases: [], uid, isAdmin: false, isBlocked: false
      };
      localStorage.setItem("users", JSON.stringify(users));
      localStorage.setItem("amnam_user", username);
      location.reload();
    }

    function generateUID() {
      return Math.random().toString(36).substring(2, 10);
    }

    function login() {
      const username = document.getElementById("loginNick").value;
      const password = document.getElementById("loginPass").value;
      if (!users[username] || users[username].password !== password || users[username].isBlocked) {
        return alert("–ù–µ–≤–µ—Ä–Ω—ã–π –Ω–∏–∫, –ø–∞—Ä–æ–ª—å –∏–ª–∏ –≤—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã");
      }
      localStorage.setItem("amnam_user", username);
      location.reload();
    }

    function logout() {
      localStorage.removeItem("amnam_user");
      location.reload();
    }

    function showMain() {
      document.getElementById('mainBlock').classList.remove('hidden');
      document.getElementById('products').classList.add('hidden');
      document.getElementById('profile').classList.add('hidden');
    }

    function showProducts() {
      if (!currentUser) return alert("–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç");
      document.getElementById('mainBlock').classList.add('hidden');
      document.getElementById('products').classList.remove('hidden');
      document.getElementById('profile').classList.add('hidden');
    }

    function showProfile() {
      if (!currentUser) return alert("–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç");
      document.getElementById('mainBlock').classList.add('hidden');
      document.getElementById('products').classList.add('hidden');
      document.getElementById('profile').classList.remove('hidden');
    }

    function activateKey() {
      const enteredKey = document.getElementById("keyInput").value.trim();
      if (!enteredKey) return;
      const index = keys.indexOf(enteredKey);
      if (index === -1) return alert("–ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á");
      users[currentUser].purchases.push("–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –ø–æ –∫–ª—é—á—É");
      keys.splice(index, 1);
      localStorage.setItem("activation_keys", JSON.stringify(keys));
      localStorage.setItem("users", JSON.stringify(users));
      alert("–ö–ª—é—á –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –¢–æ–≤–∞—Ä –≤—ã–¥–∞–Ω.");
      showProfile();
    }

    window.onload = () => {
      if (currentUser && users[currentUser]) {
        document.getElementById("loginBtn").style.display = "none";
        document.getElementById("registerBtn").style.display = "none";
        const user = users[currentUser];
        document.getElementById("profileInfo").innerHTML = `üë§ ${user.username} <button onclick="logout()" class="underline ml-2">–í—ã–π—Ç–∏</button>`;
        const profileContent = document.getElementById("profileContent");
        profileContent.innerHTML = `
          <p><b>–ù–∏–∫:</b> ${user.username}</p>
          <p><b>UID:</b> ${user.uid}</p>
          <p><b>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</b> ${new Date(user.regDate).toLocaleDateString()}</p>
          <p><b>–ü–∞—Ä–æ–ª—å:</b> <span id="hiddenPass">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span> <button onclick="document.getElementById('hiddenPass').innerText='${user.password}'" class="underline">–ü–æ–∫–∞–∑–∞—Ç—å</button></p>
          <p><b>–ö—É–ø–ª–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã:</b> ${user.purchases.length > 0 ? user.purchases.join(", ") : "‚Äî"}</p>
        `;
      }
    }
  </script>
</head>
<body>
<header class="flex justify-between items-center px-6 py-4 border-b border-green-800">
  <div class="flex items-center space-x-3">
    <img src="https://grizly.club/uploads/posts/2023-02/1676201923_grizly-club-p-klipart-am-nyam-2.png" class="w-8 h-8"/>
    <span class="text-2xl font-bold text-[var(--accent)]">Amnam Client</span>
  </div>
  <nav class="flex space-x-4 text-sm text-gray-300">
    <a href="#" onclick="showMain()" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="#" onclick="showProducts()" class="nav-link">–¢–æ–≤–∞—Ä—ã</a>
    <a href="#" onclick="showProfile()" class="nav-link">–ü—Ä–æ—Ñ–∏–ª—å</a>
  </nav>
  <div class="space-x-2 text-sm text-white">
    <span id="profileInfo"></span>
    <button id="loginBtn" onclick="document.getElementById('loginModal').showModal()" class="bg-white text-black px-4 py-2 rounded">–í–æ–π—Ç–∏</button>
    <button id="registerBtn" onclick="document.getElementById('registerModal').showModal()" class="bg-[var(--accent)] px-4 py-2 rounded">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
  </div>
</header>
<main id="mainBlock" class="text-center py-16 px-4 fade-in">
  <h1 class="text-5xl font-bold mb-4">Amnam Client</h1>
  <p class="text-xl mb-6 text-[var(--accent)]">–õ—É—á—à–∏–π —á–∏—Ç –¥–ª—è Minecraft</p>
  <p class="max-w-xl mx-auto text-gray-300">–≠—Ç–æ—Ç –∫–ª–∏–µ–Ω—Ç –æ–±—Ö–æ–¥–∏—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∞–Ω—Ç–∏—á–∏—Ç–æ–≤ –∏ –∏–¥–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –°–ù–ì —Å–µ—Ä–≤–µ—Ä–∞—Ö.</p>
  <div class="mt-16 flex justify-center">
    <img src="https://grizly.club/uploads/posts/2023-02/thumbs/1676201934_grizly-club-p-klipart-am-nyam-36.png" onclick="alert('–ü—Ä–æ–º–æ–∫–æ–¥: amnam ‚Äî —Å–∫–∏–¥–∫–∞ 30%')" class="glowing-amnyam cursor-pointer"/>
  </div>
  <section class="py-16 px-4 fade-in">
    <h2 class="text-3xl font-bold text-center mb-8">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —á–∏—Ç–∞</h2>
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
      <div class="gradient-border p-6 rounded-xl shadow-xl transition hover:scale-105 cursor-pointer">
        <h3 class="text-lg font-bold mb-2">–û–±—Ö–æ–¥ –∞–Ω—Ç–∏—á–∏—Ç–æ–≤</h3>
        <p>Matrix, Vulcan, Spartan –∏ –¥—Ä.</p>
      </div>
      <div class="gradient-border p-6 rounded-xl shadow-xl transition hover:scale-105 cursor-pointer">
        <h3 class="text-lg font-bold mb-2">FPS+</h3>
        <p>–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–∞–∂–µ –Ω–∞ —Å–ª–∞–±—ã—Ö –ü–ö.</p>
      </div>
      <div class="gradient-border p-6 rounded-xl shadow-xl transition hover:scale-105 cursor-pointer">
        <h3 class="text-lg font-bold mb-2">UI/UX</h3>
        <p>–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∫—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∞.</p>
      </div>
    </div>
  </section>
</main>
<section id="products" class="py-16 px-4 fade-in hidden">
  <h2 class="text-3xl font-bold text-center mb-10">–¢–æ–≤–∞—Ä—ã</h2>
  <div class="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto">
    <div class="gradient-border p-6 rounded-2xl shadow-xl hover:scale-105 transition text-center">
      <h3 class="text-xl font-bold mb-2">–ù–∞–≤—Å–µ–≥–¥–∞ ‚Äî 350 ‚ÇΩ</h3>
      <button onclick="window.location.href='https://t.me/HECIIPABEDLIBOSTb'" class="mt-2 px-4 py-2 bg-[var(--accent)] rounded">–ö—É–ø–∏—Ç—å</button>
    </div>
    <div class="gradient-border p-6 rounded-2xl shadow-xl hover:scale-105 transition text-center">
      <h3 class="text-xl font-bold mb-2">–ì–æ–¥ ‚Äî 250 ‚ÇΩ</h3>
      <button onclick="window.location.href='https://t.me/HECIIPABEDLIBOSTb'" class="mt-2 px-4 py-2 bg-[var(--accent)] rounded">–ö—É–ø–∏—Ç—å</button>
    </div>
    <div class="gradient-border p-6 rounded-2xl shadow-xl hover:scale-105 transition text-center">
      <h3 class="text-xl font-bold mb-2">–ú–µ—Å—è—Ü ‚Äî 150 ‚ÇΩ</h3>
      <button onclick="window.location.href='https://t.me/HECIIPABEDLIBOSTb'" class="mt-2 px-4 py-2 bg-[var(--accent)] rounded">–ö—É–ø–∏—Ç—å</button>
    </div>
  </div>
  <div class="mt-10 text-center">
    <input id="keyInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á" class="p-2 rounded bg-gray-800 text-white" />
    <button onclick="activateKey()" class="ml-2 px-4 py-2 bg-[var(--accent)] rounded">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>
</section>
<section id="profile" class="py-16 px-4 fade-in hidden">
  <h2 class="text-3xl font-bold text-center mb-8">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h2>
  <div id="profileContent" class="text-center text-white space-y-2"></div>
</section>
<dialog id="loginModal" class="rounded-xl p-6 bg-gray-800 text-white">
  <form method="dialog" onsubmit="login(); return false;">
    <h3 class="text-xl font-bold mb-4">–í—Ö–æ–¥</h3>
    <input required type="text" id="loginNick" placeholder="–ù–∏–∫" class="w-full mb-3 px-3 py-2 rounded bg-gray-700">
    <input required type="password" id="loginPass" placeholder="–ü–∞—Ä–æ–ª—å" class="w-full mb-4 px-3 py-2 rounded bg-gray-700">
    <button type="submit" class="bg-[var(--accent)] px-4 py-2 rounded">–í–æ–π—Ç–∏</button>
  </form>
</dialog>
<dialog id="registerModal" class="rounded-xl p-6 bg-gray-800 text-white">
  <form method="dialog" onsubmit="register(); return false;">
    <h3 class="text-xl font-bold mb-4">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
    <input required type="text" id="regNick" placeholder="–ù–∏–∫" class="w-full mb-3 px-3 py-2 rounded bg-gray-700">
    <input required type="password" id="regPass" placeholder="–ü–∞—Ä–æ–ª—å" class="w-full mb-4 px-3 py-2 rounded bg-gray-700">
    <button type="submit" class="bg-[var(--accent)] px-4 py-2 rounded">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
  </form>
</dialog>
</body>
</html>

<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Amnam Admin Panel</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: radial-gradient(circle at 20% 20%, #10291c, #0a0f0a 70%);
      color: #e0ffe5;
      font-family: sans-serif;
      animation: gradientFlow 20s ease infinite;
      background-size: 400% 400%;
    }
    @keyframes gradientFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .fade-in {
      opacity: 0;
      transform: translateY(30px);
      animation: fadeIn 0.8s ease-out forwards;
    }
    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: none;
      }
    }
  </style>
</head>
<body class="p-6">
  <div id="adminPanel" class="max-w-4xl mx-auto hidden fade-in">
    <h1 class="text-3xl font-bold text-green-400 mb-6">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Amnam</h1>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="bg-gray-800 p-4 rounded-xl">
        <h2 class="text-xl font-semibold mb-2">–í—ã–¥–∞—Ç—å —Ç–æ–≤–∞—Ä –ø–æ –Ω–∏–∫—É</h2>
        <input type="text" id="giveNick" placeholder="–ù–∏–∫" class="w-full mb-2 p-2 rounded bg-gray-700 text-white">
        <select id="giveProduct" class="w-full mb-2 p-2 rounded bg-gray-700 text-white">
          <option value="–ú–µ—Å—è—Ü">–ú–µ—Å—è—Ü</option>
          <option value="–ì–æ–¥">–ì–æ–¥</option>
          <option value="–ù–∞–≤—Å–µ–≥–¥–∞">–ù–∞–≤—Å–µ–≥–¥–∞</option>
        </select>
        <button onclick="giveProduct()" class="bg-green-600 px-4 py-2 rounded hover:bg-green-700 transition">–í—ã–¥–∞—Ç—å</button>
      </div>

      <div class="bg-gray-800 p-4 rounded-xl">
        <h2 class="text-xl font-semibold mb-2">–°–¥–µ–ª–∞—Ç—å –∞–¥–º–∏–Ω–æ–º</h2>
        <input type="text" id="adminNick" placeholder="–ù–∏–∫" class="w-full mb-2 p-2 rounded bg-gray-700 text-white">
        <button onclick="giveAdmin()" class="bg-blue-600 px-4 py-2 rounded hover:bg-blue-700 transition">–í—ã–¥–∞—Ç—å –∞–¥–º–∏–Ω–∫—É</button>
      </div>

      <div class="bg-gray-800 p-4 rounded-xl">
        <h2 class="text-xl font-semibold mb-2">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
        <input type="text" id="banNick" placeholder="–ù–∏–∫" class="w-full mb-2 p-2 rounded bg-gray-700 text-white">
        <button onclick="blockUser()" class="bg-red-600 px-4 py-2 rounded hover:bg-red-700 transition">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>

      <div class="bg-gray-800 p-4 rounded-xl">
        <h2 class="text-xl font-semibold mb-2">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á</h2>
        <select id="keyType" class="w-full mb-2 p-2 rounded bg-gray-700 text-white">
          <option value="30">30 –¥–Ω–µ–π</option>
          <option value="365">365 –¥–Ω–µ–π</option>
          <option value="forever">–ù–∞–≤—Å–µ–≥–¥–∞</option>
        </select>
        <button onclick="generateKey()" class="bg-yellow-600 px-4 py-2 rounded hover:bg-yellow-700 transition">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
        <p id="keyOutput" class="mt-2 text-green-300"></p>
      </div>
    </div>
  </div>

  <script>
    fetch('https://amnam-st01.onrender.com/users')
      .then(res => res.json())
      .then(users => {
        const current = localStorage.getItem('amnam_user');
        const user = users.find(u => u.username === current);
        if (user && user.is_admin) {
          document.getElementById('adminPanel').classList.remove('hidden');
        }
      });

    function giveProduct() {
      const username = document.getElementById('giveNick').value;
      const product = document.getElementById('giveProduct').value;
      fetch('https://amnam-st01.onrender.com/admin/give-product', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username, product })
      }).then(res => res.json()).then(data => alert(data.success ? '–í—ã–¥–∞–Ω–æ' : data.error));
    }

    function giveAdmin() {
      const username = document.getElementById('adminNick').value;
      fetch('https://amnam-st01.onrender.com/admin/give-admin', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username })
      }).then(res => res.json()).then(data => alert(data.success ? '–ê–¥–º–∏–Ω –≤—ã–¥–∞–Ω' : data.error));
    }

    function blockUser() {
      const username = document.getElementById('banNick').value;
      fetch('https://amnam-st01.onrender.com/admin/block-user', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username })
      }).then(res => res.json()).then(data => alert(data.success ? '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω' : data.error));
    }

    function generateKey() {
      const duration = document.getElementById('keyType').value;
      fetch('https://amnam-st01.onrender.com/admin/generate-key', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ duration })
      })
      .then(res => res.json())
      .then(data => {
        if (data.key) document.getElementById('keyOutput').textContent = '–ö–ª—é—á: ' + data.key;
        else alert(data.error);
      });
    }
  </script>
</body>
</html>
